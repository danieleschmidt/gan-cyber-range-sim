# GAN Cyber Range Simulator - Environment Configuration
# Copy this file to .env and configure the values for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Environment type (development, staging, production)
ENVIRONMENT=development

# Application logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Application secret key for security (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-secret-key-here

# Application host and port
HOST=0.0.0.0
PORT=8080

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================

# OpenAI API Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

# Anthropic Claude API Configuration
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=2048

# Azure OpenAI (optional)
AZURE_OPENAI_API_KEY=your-azure-openai-key-here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=your-deployment-name

# Local LLM Configuration (for air-gapped deployments)
LOCAL_LLM_ENABLED=false
LOCAL_LLM_ENDPOINT=http://localhost:11434/v1
LOCAL_LLM_MODEL=llama2:13b

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://gan_user:gan_password@localhost:5432/gan_cyber_range
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=gan_cyber_range
DATABASE_USER=gan_user
DATABASE_PASSWORD=gan_password
DATABASE_SSL_MODE=prefer

# Database pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION (for caching and session storage)
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================

# Kubernetes cluster configuration
KUBECONFIG=/path/to/your/kubeconfig
KUBERNETES_NAMESPACE=gan-cyber-range
KUBERNETES_CLUSTER_NAME=local-cluster

# Cyber range isolation settings
CYBER_RANGE_NAMESPACE=cyber-range-simulation
CYBER_RANGE_NETWORK_POLICY=isolated
RESOURCE_LIMITS_CPU=4
RESOURCE_LIMITS_MEMORY=8Gi
RESOURCE_LIMITS_STORAGE=50Gi

# =============================================================================
# CONTAINER REGISTRY
# =============================================================================

# Container registry for cyber range images
CONTAINER_REGISTRY_URL=registry.hub.docker.com
CONTAINER_REGISTRY_USERNAME=your-registry-username
CONTAINER_REGISTRY_PASSWORD=your-registry-password
CONTAINER_REGISTRY_NAMESPACE=gan-cyber-range

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Prometheus monitoring
PROMETHEUS_URL=http://localhost:9090
PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# Grafana dashboard
GRAFANA_URL=http://localhost:3001
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=admin

# Elasticsearch and Kibana (for log aggregation)
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=elastic
KIBANA_URL=http://localhost:5601

# Application Performance Monitoring
APM_SERVICE_NAME=gan-cyber-range
APM_SECRET_TOKEN=your-apm-secret-token
APM_SERVER_URL=http://localhost:8200

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Security scanning and vulnerability management
VULNERABILITY_SCANNER_ENABLED=true
SECURITY_SCAN_SCHEDULE="0 2 * * *"  # Daily at 2 AM
SECURITY_ALERTS_WEBHOOK=https://hooks.slack.com/your-webhook-url

# Network security settings
NETWORK_ISOLATION_ENABLED=true
EGRESS_FILTERING_ENABLED=true
ALLOWED_EXTERNAL_DOMAINS=openai.com,anthropic.com,github.com

# Secret management
VAULT_ENABLED=false
VAULT_URL=http://localhost:8200
VAULT_TOKEN=your-vault-token
VAULT_MOUNT_PATH=secret/gan-cyber-range

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings
DEBUG=true
DEV_MODE=true
HOT_RELOAD=true
AUTO_MIGRATE_DB=true

# Testing configuration
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/test_gan_cyber_range
TEST_REDIS_URL=redis://localhost:6379/1

# Code quality and formatting
ENABLE_PROFILING=false
PROFILING_OUTPUT_DIR=./profiling
ENABLE_DEBUG_TOOLBAR=true

# =============================================================================
# SIMULATION CONFIGURATION
# =============================================================================

# Agent configuration
DEFAULT_RED_TEAM_MODEL=gpt-4
DEFAULT_BLUE_TEAM_MODEL=claude-3-sonnet-20240229
AGENT_MEMORY_SIZE=1000
AGENT_CONTEXT_WINDOW=8192

# Simulation parameters
MAX_SIMULATION_DURATION=86400  # 24 hours in seconds
DEFAULT_SCENARIO_TIMEOUT=3600  # 1 hour
MAX_CONCURRENT_SIMULATIONS=10
SIMULATION_RESOURCE_LIMITS=true

# Vulnerable services configuration
VULN_SERVICES_AUTO_DEPLOY=true
VULN_SERVICES_REGISTRY=gan-cyber-range/vulnerable-services
VULN_SERVICES_UPDATE_INTERVAL=3600  # 1 hour

# =============================================================================
# NOTIFICATION AND ALERTING
# =============================================================================

# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook-url
SLACK_CHANNEL=#gan-cyber-range
SLACK_USERNAME=GAN-Bot

# Email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# Discord notifications (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Threat intelligence feeds
THREAT_INTEL_ENABLED=true
MISP_URL=https://your-misp-instance.com
MISP_API_KEY=your-misp-api-key

# Security tools integration
METASPLOIT_RPC_HOST=localhost
METASPLOIT_RPC_PORT=55553
METASPLOIT_RPC_USER=msf
METASPLOIT_RPC_PASSWORD=your-msf-password

# SIEM integration
SPLUNK_HEC_URL=https://your-splunk-instance.com:8088
SPLUNK_HEC_TOKEN=your-hec-token

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_DESTINATION=database  # database, file, syslog

# Data retention policies
LOG_RETENTION_DAYS=90
SIMULATION_DATA_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years

# Export control compliance
EXPORT_CONTROL_ENABLED=true
RESTRICTED_COUNTRIES=IR,KP,SY,CU  # ISO country codes
COMPLIANCE_CHECK_FREQUENCY=daily

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Application performance
WORKER_PROCESSES=4
WORKER_THREADS=10
REQUEST_TIMEOUT=300
MAX_REQUEST_SIZE=100MB

# Caching settings
CACHE_TTL=3600  # 1 hour
CACHE_MAX_SIZE=1000MB
ENABLE_QUERY_CACHE=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_TYPE=s3  # s3, gcs, azure, local

# AWS S3 backup (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_BACKUP_BUCKET=gan-cyber-range-backups
AWS_REGION=us-east-1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Experimental features
ENABLE_ADVANCED_SCENARIOS=false
ENABLE_MULTI_CLOUD_DEPLOYMENT=false
ENABLE_QUANTUM_RESISTANCE_SIMULATION=false
ENABLE_AI_EXPLAINABILITY=true
ENABLE_REALTIME_COLLABORATION=false

# Security features
ENABLE_ZERO_TRUST_NETWORKING=true
ENABLE_BEHAVIORAL_ANALYSIS=true
ENABLE_THREAT_HUNTING_AI=false
ENABLE_AUTOMATED_INCIDENT_RESPONSE=true